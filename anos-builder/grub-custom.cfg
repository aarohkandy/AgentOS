# ANOS Boot Configuration
# Boots directly to graphical installer

set timeout=0
set default=0

loadfont unicode

# ANOS Branding
set menu_color_normal=white/black
set menu_color_highlight=black/light-gray

# Set root device
if loadfont /boot/grub/fonts/unicode.pf2 ; then
    set gfxmode=auto
    insmod efi_gop
    insmod efi_uga
    insmod gfxterm
    terminal_output gfxterm
fi

# Boot directly to installer (Calamares)
menuentry "Install ANOS" {
    set gfxpayload=keep
    linux	/casper/vmlinuz boot=casper quiet splash maybe-ubiquity ---
    initrd	/casper/initrd
}

# Fallback: Safe graphics mode
menuentry "Install ANOS (Safe Graphics)" {
    set gfxpayload=keep
    linux	/casper/vmlinuz boot=casper nomodeset quiet splash maybe-ubiquity ---
    initrd	/casper/initrd
}

# Emergency: Command line
menuentry "ANOS Emergency Shell" {
    set gfxpayload=keep
    linux	/casper/vmlinuz boot=casper quiet splash ---
    initrd	/casper/initrd
}

